import{_ as e,c as s,o as a,a2 as r}from"./chunks/framework.U6HXpukZ.js";const t="/assets/image-agos.BzFUcYsq.png",m=JSON.parse('{"title":"【故障排查】Postgre启动失败：Bus error (core dumped)","description":"","frontmatter":{},"headers":[],"relativePath":"bug-postgres.md","filePath":"bug-postgres.md"}'),n={name:"bug-postgres.md"},o=r(`<h1 id="【故障排查】postgre启动失败-bus-error-core-dumped" tabindex="-1">【故障排查】Postgre启动失败：Bus error (core dumped) <a class="header-anchor" href="#【故障排查】postgre启动失败-bus-error-core-dumped" aria-label="Permalink to &quot;【故障排查】Postgre启动失败：Bus error (core dumped)&quot;">​</a></h1><h3 id="问题描述" tabindex="-1"><strong>问题描述</strong> <a class="header-anchor" href="#问题描述" aria-label="Permalink to &quot;**问题描述**&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Bus error (core dumped) </span></span>
<span class="line"><span>child process exited with exit code 135</span></span></code></pre></div><p><img src="`+t+`" alt="img"></p><h3 id="修复" tabindex="-1"><strong>修复</strong> <a class="header-anchor" href="#修复" aria-label="Permalink to &quot;**修复**&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>在pod所在节点操作</span></span>
<span class="line"><span># 临时设置</span></span>
<span class="line"><span>sysctl -w vm.nr_hugepages=0</span></span>
<span class="line"><span>cat /proc/sys/vm/nr_hugepages</span></span>
<span class="line"><span># 永久设置</span></span>
<span class="line"><span>sed -i &#39;s/vm.nr_hugepages = 250/vm.nr_hugepages = 0/g&#39; /etc/sysctl.conf</span></span>
<span class="line"><span>sysctl --system</span></span></code></pre></div><h3 id="参考链接" tabindex="-1"><strong>参考链接</strong> <a class="header-anchor" href="#参考链接" aria-label="Permalink to &quot;**参考链接**&quot;">​</a></h3><p><a href="https://github.com/docker-library/postgres/issues/451" target="_blank" rel="noreferrer">Error 135 in Initdb deploying inside Kubernetes · Issue #451 · docker-library/postgres (</a><a href="http://github.com" target="_blank" rel="noreferrer">github.com</a><a href="https://github.com/docker-library/postgres/issues/451" target="_blank" rel="noreferrer">)</a></p><p><a href="https://stackoverflow.com/questions/67941955/kubernetes-postgres-bus-error-core-dumped" target="_blank" rel="noreferrer">postgresql - Kubernetes Postgres Bus error (core dumped) - Stack Overflow</a></p>`,9),p=[o];function i(c,l,d,g,h,u){return a(),s("div",null,p)}const _=e(n,[["render",i]]);export{m as __pageData,_ as default};
